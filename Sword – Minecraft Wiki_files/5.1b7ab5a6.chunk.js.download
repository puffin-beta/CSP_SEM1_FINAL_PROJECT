(window.webpackJsonpWIREWAX=window.webpackJsonpWIREWAX||[]).push([[5],{1240:function(e,n,t){"use strict";t.r(n);var r=t(28),u=t(40),o=t(20),i=t(0),c=t(26),a=t(17),l=t(47),f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(i.useRef)(e);return Object(i.useEffect)(function(){t.current=e},[e,n]),Object(i.useCallback)(function(){return(0,t.current)()},[t])},s=function(e){return{overlays:e.options.activeVideo.overlays}},v=function(e){return{toggleOverlay:function(n){return e(a.a.toggleOverlay(n))},reduxPlay:function(){return e(l.a.reduxPlay())},reduxPause:function(){return e(l.a.reduxPause())},reduxSeekTo:function(n){return e(l.a.reduxSeekTo(n))}}},d={JumpTrigger:Object(c.connect)(s,v)(function(e){var n=e.onEntered,t=e.reduxSeekTo,r=e.to,u=f(function(){n(),t(r)},[n,t,r]);return Object(i.useEffect)(function(){u()},[u]),null}),PauseTrigger:Object(c.connect)(s,v)(function(e){var n=e.reduxPause,t=f(function(){n()},[n]);return Object(i.useEffect)(function(){t()},[t]),null}),OverlayTrigger:Object(c.connect)(s,v)(function(e){var n=e.overlays,t=void 0===n?[{}]:n,r=e.overlayId,u=e.toggleOverlay,o=t.find(function(e){return e.overlayId===r}),c=f(function(){u(o)},[u,o]);return Object(i.useEffect)(function(){c()},[c]),null})},m=d.PauseTrigger,g=d.OverlayTrigger,y=d.JumpTrigger,O=function(e){var n=Object(i.useRef)(),t=Object(i.useRef)(e);return[Object(i.useCallback)(function(e){n.current&&clearTimeout(n.current),n.current=setTimeout(function(){return t.current()},e)},[t]),Object(i.useCallback)(function(){n.current&&clearTimeout(n.current)},[])]},b=t(27),j=function(e,n,t){return Math.round(e)===n||"number"===typeof t&&n-t>=1&&e>=t&&e<=n||e<=1&&n>0&&n<5},p=function(e,n){return!!n&&e.overlayId===n},P=function(e,n){return!(!n||e.overlayId===n)||0===Object.keys(e).length},T=function(){function e(n,t){Object(r.a)(this,e),this.name=n,this.id=t}return Object(u.a)(e,[{key:"toString",value:function(){return"Trigger.".concat(this.name)}}]),e}();T.jumpPoint=new T("jumpPoint",0),T.pausePoint=new T("pausePoint",1),T.customPoint=new T("customPoint",2),T.overlayPoint=new T("overlayPoint",3);var E=Object(c.connect)(function(e){return{timeTriggers:e.options.activeVideo.timeTriggers,currentFrame:e.video.currentFrame,prevFrame:e.video.prevFrame,activeOverlay:e.options.activeOverlay}},function(e){return{reduxPlay:function(){return e(l.a.reduxPlay())}}})(function(e){var n=e.timeTriggers,t=void 0===n?[]:n,r=e.currentFrame,u=void 0===r?0:r,c=e.prevFrame,a=e.reduxPlay,l=e.closeOverlayAndAnimateOut,f=e.activeOverlay,s=void 0===f?{}:f,v=Object(i.useState)(!1),d=Object(o.a)(v,2),E=d[0],k=d[1],w=O(function(){b.a.info("Trigger :: Time is up, close overlay and resume video."),l(),a()}),x=Object(o.a)(w,2),h=x[0],I=x[1];Object(i.useEffect)(function(){return function(){I()}},[I]);var F=t.find(function(e){return j(e.show,u,c)})||{},C=F.type,R=F.hide,S=F.pauseOnClick,A=F.autoClose,J=F.autoCloseTime,W=F.overlayId;!E&&p(s,W)&&(k(!0),A&&h(J)),E&&P(s,W)&&(k(!1),I());return i.createElement(i.Fragment,null,C===T.jumpPoint.id&&i.createElement(y,{to:R,onEntered:function(){C===T.jumpPoint.id&&l()}}),C===T.pausePoint.id&&i.createElement(m,null),C===T.customPoint.id&&null,C===T.overlayPoint.id&&i.createElement(g,{overlayId:W}),C===T.overlayPoint.id&&S&&i.createElement(m,null))});n.default=E}}]);
//# sourceMappingURL=5.1b7ab5a6.chunk.js.map